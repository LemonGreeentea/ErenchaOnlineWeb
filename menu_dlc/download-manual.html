<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DLC ì„¤ì¹˜ - DLC</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <meta name="robots" content="noindex">
    <!-- Netlify Functions ì„œë²„ë¦¬ìŠ¤ ì§‘ê³„ ì—”ë“œí¬ì¸íŠ¸ ì„¤ì • -->
    <meta name="dlc-analytics-endpoint" content="/dlc-download">
    <!-- Cloudflare R2 ë°ì´í„° ë² ì´ìŠ¤ URL ì„¤ì • -->
    <meta name="dlc-data-base" content="https://pub-10c833780df54305a8613bdb0a2c0e53.r2.dev/">
</head>
<body class="dlc">
    <div class="site-wrap">
        <header class="main-header"></header>
        <section class="sub-hero-banner">
            <h1>DLC ì§ì ‘ ì„¤ì¹˜</h1>
        </section>
        <main>
            <div class="game-info-container dlc-download-container">
                <div class="navigation-breadcrumb section-panel">
                    <a href="download.html" class="button secondary small">â† ë‹¤ìš´ë¡œë“œ ë°©ì‹ ì„ íƒìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
                </div>

                <h2>ì„ íƒí•œ DLC ìš”ì•½</h2>
                <div class="section-panel">
                    <p class="muted">ì»¨í…ì¸ , ìºë¦­í„° íƒ­ì—ì„œ ì„ íƒí•œ í•­ëª©ì´ ìš”ì•½ë©ë‹ˆë‹¤.</p>
                    <div id="dlc-empty" style="display:none;" class="notice">ì„ íƒëœ DLCê°€ ì—†ìŠµë‹ˆë‹¤. ìƒë‹¨ ë©”ë‰´ì˜ DLC íƒ­ì—ì„œ ì›í•˜ëŠ” í•­ëª©ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.</div>
                    <div id="selection-summary">
                        
                        <div class="selection-group">
                            <h3>ì»¨í…ì¸ </h3>
                            <ul id="list-contents" class="bullet-list"></ul>
                        </div>
                        <div class="selection-group">
                            <h3>ìºë¦­í„°</h3>
                            <ul id="list-characters" class="bullet-list"></ul>
                        </div>
                    </div>
                </div>

                <hr>

                <h2>íŒŒì¼ ìƒì„± ë° ë‹¤ìš´ë¡œë“œ</h2>
                <div class="build-controls section-panel">
                    <label>íŒŒì¼ ì´ë¦„
                        <input id="filename" type="text" value="" aria-label="íŒŒì¼ ì´ë¦„">
                    </label>
                    <p class="muted">ë¡œì–´ë¶ê³¼ ì—ì…‹ íŒŒì¼ì— ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë  íŒŒì¼ëª…ì„ ì…ë ¥í•˜ì„¸ìš”.</p>
                    <!-- ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë²„íŠ¼ë“¤ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>

                <div id="build-result" class="build-result section-panel" style="display:none;">
                    <h3>ë¡œì–´ë¶ íŒŒì¼</h3>
                    <div class="row-inline">
                        <span>í¬ê¸°: <strong id="bundle-size">-</strong></span>
                        <a id="download-link" class="button" href="#" download>ë¡œì–´ë¶ ë‹¤ìš´ë¡œë“œ</a>
                    </div>
                </div>

                <div id="assets-build-result" class="build-result section-panel" style="display:none;">
                    <h3>ì—ì…‹ íŒŒì¼</h3>
                    <div class="row-inline">
                        <span>ì—ì…‹ ìˆ˜: <strong id="assets-count">-</strong></span>
                        <span>ìš©ëŸ‰: <strong id="assets-size">-</strong></span>
                        <a id="assets-download-link" class="button" href="#" download>ì—ì…‹ ë‹¤ìš´ë¡œë“œ</a>
                    </div>
                </div>

                <hr>

                <h2 class="collapsible-toggle">ê¸€ë¡œë²Œ ë…¸íŠ¸ ê°€ì´ë“œ <span id="global-notes-badge" class="notes-badge" style="display:none;">ì…ë ¥í•  ë°ì´í„° ìˆìŒ</span>
                    <button type="button" class="button secondary small" id="toggle-global-notes" aria-expanded="false" aria-controls="global-notes-panel">í¼ì¹˜ê¸°</button>
                </h2>
                <div id="global-notes-panel" class="collapsible collapsed section-panel" style="display:none;">
                    <p class="muted">ì„ íƒí•œ DLCì— ê¸€ë¡œë²Œ ë…¸íŠ¸ ë°ì´í„°ê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë©´, ì•„ë˜ ì½˜í…ì¸ ë¥¼ ë³µì‚¬í•´ RisuAIì˜ ê¸€ë¡œë²Œ ë…¸íŠ¸ì— ë¶™ì—¬ë„£ì–´ ì£¼ì„¸ìš”.</p>
                    <div class="row" style="margin:8px 0 12px; gap:8px; flex-wrap:wrap;">
                        <button type="button" class="button" id="btn-copy-global-notes">ë³µì‚¬</button>
                        <button type="button" class="button secondary" id="btn-edit-user-notes">ì‚¬ìš©ì ë…¸íŠ¸ ì…ë ¥</button>
                        <small class="muted" id="user-notes-hint">ê¸€ë¡œë²Œ ë…¸íŠ¸ì— ì…ë ¥í•  ë‚´ìš©ì´ ìˆìœ¼ë©´ ì…ë ¥í•´ì£¼ì„¸ìš”!</small>
                    </div>
                    <textarea id="global-notes-text" readonly rows="14" style="width:100%; resize:vertical;"></textarea>
                </div>

                <hr>

                <h2>ì§ì ‘ ì„¤ì¹˜ ë°©ë²•</h2>
                <div class="install-guide section-panel">
                    <div class="install-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h3>ë¡œì–´ë¶ íŒŒì¼ ë‹¤ìš´ë¡œë“œ</h3>
                            <p>ìœ„ì˜ "ë¡œì–´ë¶ JSON ìƒì„±" ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ë¡œì–´ë¶ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.</p>
                        </div>
                    </div>

                    <div class="install-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h3>ì—ì…‹ íŒŒì¼ ë‹¤ìš´ë¡œë“œ (ì„ íƒì‚¬í•­)</h3>
                            <p>ì´ë¯¸ì§€ë‚˜ ê¸°íƒ€ ì—ì…‹ì´ í•„ìš”í•œ ê²½ìš° "ì—ì…‹ ìƒì„±" ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ZIP íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.</p>
                        </div>
                    </div>

                    <div class="install-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h3>RisuAIì— ë¡œì–´ë¶ ì„í¬íŠ¸</h3>
                            <p>RisuAIë¥¼ ì—´ê³  ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¥´ì„¸ìš”:</p>
                            <ul class="sub-steps">
                                <li>ì›í•˜ëŠ” ìºë¦­í„°/ì±—ì„ ì„ íƒí•©ë‹ˆë‹¤</li>
                                <li>ë¡œì–´ë¶ íƒ­ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤</li>
                                <li>"Import" ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ë‹¤ìš´ë¡œë“œí•œ JSON íŒŒì¼ì„ ì„ íƒí•©ë‹ˆë‹¤</li>
                            </ul>
                        </div>
                    </div>

                    <div class="install-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h3>ê¸€ë¡œë²Œ ë…¸íŠ¸ ì„¤ì •</h3>
                            <p>ìœ„ì˜ "ê¸€ë¡œë²Œ ë…¸íŠ¸ ê°€ì´ë“œ" ì„¹ì…˜ì—ì„œ ë‚´ìš©ì„ ë³µì‚¬í•˜ì—¬:</p>
                            <ul class="sub-steps">
                                <li>RisuAIì˜ ê¸€ë¡œë²Œ ë…¸íŠ¸ íƒ­ìœ¼ë¡œ ì´ë™</li>
                                <li>ê¸°ì¡´ ë‚´ìš©ì„ ì‚­ì œ (í•„ìš”ì‹œ ë°±ì—…)</li>
                                <li>ë³µì‚¬í•œ ë‚´ìš©ì„ ë¶™ì—¬ë„£ê¸°</li>
                            </ul>
                        </div>
                    </div>

                    <div class="install-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <h3>ì—ì…‹ ì„¤ì¹˜ (ì—ì…‹ ë‹¤ìš´ë¡œë“œí•œ ê²½ìš°)</h3>
                            <p>ë‹¤ìš´ë¡œë“œí•œ ZIP íŒŒì¼ì„ ì••ì¶•í•´ì œí•˜ê³ :</p>
                            <ul class="sub-steps">
                                <li>RisuAIì˜ ì—ì…‹ íƒ­ìœ¼ë¡œ ì´ë™</li>
                                <li>ì••ì¶•í•´ì œí•œ ì´ë¯¸ì§€ íŒŒì¼ë“¤ì„ ì¶”ê°€</li>
                                <li>ì¤‘ë³µëœ íŒŒì¼ëª…ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ê³  í•„ìš”ì‹œ ì´ë¦„ ë³€ê²½</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="tips-section section-panel">
                    <h3>ğŸ’¡ ì„¤ì¹˜ íŒ</h3>
                    <ul class="bullet-list">
                        <li><strong>ë°±ì—…:</strong> ê¸°ì¡´ ë¡œì–´ë¶ì´ë‚˜ ê¸€ë¡œë²Œ ë…¸íŠ¸ê°€ ìˆë‹¤ë©´ ì„¤ì¹˜ ì „ì— ë°±ì—…í•´ë‘ì„¸ìš”</li>
                        <li><strong>ì¤‘ë³µ í™•ì¸:</strong> ì—ì…‹ ì„¤ì¹˜ ì‹œ ê¸°ì¡´ íŒŒì¼ê³¼ ì´ë¦„ì´ ê²¹ì¹˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”</li>
                        <li><strong>í…ŒìŠ¤íŠ¸:</strong> ì„¤ì¹˜ í›„ ê°„ë‹¨í•œ ëŒ€í™”ë¡œ ë¡œì–´ë¶ì´ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”</li>
                        <li><strong>ë¬¸ì œ í•´ê²°:</strong> ë¡œì–´ë¶ì´ ì‘ë™í•˜ì§€ ì•Šìœ¼ë©´ insertorder ì„¤ì •ì„ í™•ì¸í•´ë³´ì„¸ìš”</li>
                    </ul>
                </div>
            </div>
        </main>
        <footer class="main-footer"></footer>
    </div>

    <script src="../assets/js/layout.js"></script>
    <!-- JSZip for client-side zip generation -->
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
    <script src="../assets/js/dlc/lorebooks.js"></script>
    <script src="../assets/js/dlc/dlc-download.js"></script>
    <script>
        // ëª¨ë“ˆ ë²„íŠ¼ ìˆ¨ê¸°ê¸° (ì§ì ‘ ì„¤ì¹˜ í˜ì´ì§€ì—ì„œëŠ” ë¶ˆí•„ìš”)
        document.addEventListener('DOMContentLoaded', function() {
            const risuMButton = document.getElementById('build-risum-btn');
            if (risuMButton) {
                risuMButton.style.display = 'none';
            }

            // ë¡œì–´ë¶ JSON ìƒì„± ë²„íŠ¼ ìŠ¤íƒ€ì¼ë§
            const risuButton = document.getElementById('build-risu-btn');
            if (risuButton) {
                risuButton.style.background = 'linear-gradient(135deg, var(--accent-sky-blue), #2aa0f0)';
                risuButton.style.border = 'none';
                risuButton.style.padding = '14px 28px';
                risuButton.style.fontSize = '16px';
                risuButton.style.fontWeight = '700';
                risuButton.style.borderRadius = '10px';
                risuButton.style.boxShadow = '0 4px 15px rgba(77, 184, 255, 0.3)';
                risuButton.style.transition = 'all 0.3s ease';
                
                risuButton.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-2px)';
                    this.style.boxShadow = '0 6px 20px rgba(77, 184, 255, 0.4)';
                });
                
                risuButton.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                    this.style.boxShadow = '0 4px 15px rgba(77, 184, 255, 0.3)';
                });
            }

            // ì—ì…‹ ìƒì„± ë²„íŠ¼ ìŠ¤íƒ€ì¼ë§
            const assetsButton = document.getElementById('build-assets-btn');
            if (assetsButton) {
                assetsButton.style.background = 'linear-gradient(135deg, #ff9800, #f57c00)';
                assetsButton.style.border = 'none';
                assetsButton.style.padding = '14px 28px';
                assetsButton.style.fontSize = '16px';
                assetsButton.style.fontWeight = '700';
                assetsButton.style.borderRadius = '10px';
                assetsButton.style.boxShadow = '0 4px 15px rgba(255, 152, 0, 0.3)';
                assetsButton.style.transition = 'all 0.3s ease';
                assetsButton.style.color = 'white';
                
                assetsButton.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-2px)';
                    this.style.boxShadow = '0 6px 20px rgba(255, 152, 0, 0.4)';
                });
                
                assetsButton.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                    this.style.boxShadow = '0 4px 15px rgba(255, 152, 0, 0.3)';
                });
            }
        });
    </script>
</body>
</html>
